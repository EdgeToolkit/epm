#
#
# Gitlab runner config file
#
#

concurrent = {{ gitlab_runner_concurrent | default(1) }}
#check_interval = 0

[session_server]
  session_timeout = {{ gitlab_runner_session_timeout | default(1800) }}


{% if gitlab_runner and 'docker' in gitlab_runner %}
{% include docker.toml.j2 %}
{% endif %}

#
# Linux docker-executor
#
[[runners]]
  name = "Linux docker-executor mkdocs"
  url = "{{url}}"
  token = "uPxq4cxyhVjstqW8-awU"
  executor = "docker"
  [runners.custom_build_dir]
  [runners.cache]
    [runners.cache.s3]
    [runners.cache.gcs]
  [runners.docker]
    tls_verify = false
    image = "alpine"
    privileged = false
    disable_entrypoint_overwrite = false
    oom_kill_disable = false
    disable_cache = false
    volumes = ["/cache", "/home/epm/.cache/epm/epm:/home/conan/.cache/epm/epm"]
    shm_size = 0
    pull_policy = "if-not-present"

# Linux docker.builder conan.
# Linux docker.runner
# Windows vs2019.builder