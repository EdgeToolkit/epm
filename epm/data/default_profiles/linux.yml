#
#
# hisiv300 for HuaWei HiSilicon Soc arm-hisiv300-linux-gcc toolchain
#
#
.schema:
  Linux:
    settings: &Linux
      - os: Linux
      - os_build: Linux
      - arch: [x86, x86_64, armv7]
      - arch_build: [x86, x86_64]
      - compiler: [gcc]
      - compiler.version: [4.8, 5]
      - compiler.libcxx: [libstdc++11]
      - build_type: [Debug, Release]

  HiSilicon:
    settings:
      - *Linux
      - compiler.toolchain: [arm-hisiv300-linux, arm-hisiv500-linux]

.prototype:
  gcc.settings: &gcc_settings
    os: Linux
    os_build: Linux
    arch: x86_64
    arch_build: x86_64
    compiler: gcc
    compiler.version:
    compiler.libcxx: libstdc++11
    build_type: Release
    

gcc5:
  .scheme: Linux
  .docker:
    builder:
      image: epmkit/gcc5
      shell: /bin/bash
      home: /home/conan
    runner:
      image: ubuntu:xenial
      shell: /bin/bash
      home: /home/conan

  Release:
    name: gcc5
    settings: 
      <<: *gcc_settings
      compiler.version: 5
      build_type: Release

    .description: |
      GNU GCC 5.0 build configuration profile for Linux program building.
      This profile builds release version for x86_64 CPU with libc and libstdc++11 runtime.

  Debug:
    name: gcc5.d
    settings:
      <<: *gcc_settings
      compiler.version: 5
      build_type: Debug

    .description: |
      GNU GCC 5.0 build configuration profile for Linux program building.
      This profile builds debug version for x86_64 CPU with libc and libstdc++11 runtime.

gcc5-x86:
  .scheme: Linux
  .docker:
    builder:
      image: epmkit/gcc5-x86
      shell: /bin/bash
      home: /home/conan
    runner:
      image: i386/ubuntu:xenial
      shell: /bin/bash
      home: /home/conan

  Release:
    name: gcc5-x86
    settings: 
      <<: *gcc_settings
      arch: x86
      arch_build: x86
      compiler.version: 5
      build_type: Release

    .description: |
      GNU GCC 5.0 build configuration profile for Linux program building.
      This profile builds release version for x86 CPU with libc and libstdc++11 runtime.

  Debug:
    name: gcc5-x86.d
    settings: 
      <<: *gcc_settings
      arch: x86
      arch_build: x86
      compiler.version: 5
      build_type: Debug

    .description: |
      GNU GCC 5.0 build configuration profile for Linux program building.
      This profile builds release version for x86 CPU with libc and libstdc++11 runtime.

hisi300:
  .scheme: HiSilicon
  .docker:
    builder:
      image: epmkit/hisi300
      shell: /bin/bash
      home: /home/conan

  Release:
    name: hisi300
    settings:
      <<: *gcc_settings
      arch: armv7
      arch_build: x86
      compiler.version: 4.8
      build_type: Release
      compiler.toolchain: arm-hisiv300-linux

    .description: |
      HuaWei HiSilicon ARM SoC (arm-hisiv300-linux - GNU GCC 4.8) cross-build configuration profile for embedded Linux program building.
      This profile builds release version for ARMv7 (Hi35XX, ...) CPU with uCLibc and libstdc++11 runtime.

  Debug:
    name: hisi300.d
    settings:
      <<: *gcc_settings
      arch: armv7
      arch_build: x86
      compiler.version: 4.8
      build_type: Debug
      compiler.toolchain: arm-hisiv300-linux

    .description: |
      HuaWei HiSilicon ARM SoC (arm-hisiv300-linux - GNU GCC 4.8) cross-build configuration profile for embedded Linux program building.
      This profile builds debug version for ARMv7 (Hi35XX, ...) CPU with uCLibc and libstdc++11 runtime.
