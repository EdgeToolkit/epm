#!/bin/bash

if [[ -n $EPM_VENV_NAME ]] ;; then
  echo "Already in virtual environment <%EPM_VENV_NAME%>, you have to exits this venv, then try again."
  exit/b 1
fi

export EPM_VENV_NAME='{{name}}'
export EPM_HOME_DIR={{path}}
export CONAN_USER_HOME=${EPM_HOME_DIR}
export EPM_CHANNEL={{ channel }}

if [[ -n $TERM ]]
then
        export PS1='\[\033[01;32m\]\u@\h - {{name}}@epm.venv\[\033[01;34m\]:\w\[\033[00m\]\n\$ '
else
        PS1='\u@\h - {{name}}@epm.venv:\w \n\$ '
fi
'''

epm venv banner

